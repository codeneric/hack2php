webpackJsonp([17],{8:function(e,t,a){a("FTkx"),a("VRe+"),a("lmbK"),a("B0FF"),e.exports=a("fw7E")},Uya5:function(e,t){var a=/^(?:submit|button|image|reset|file)$/i,n=/^(?:input|select|textarea|keygen)/i,r=/(\[[^\[\]]*\])/g;function o(e,t,a){if(t.match(r)){!function e(t,a,n){if(0===a.length)return t=n;var r=a.shift(),o=r.match(/^\[(.+?)\]$/);if("[]"===r)return t=t||[],Array.isArray(t)?t.push(e(null,a,n)):(t._values=t._values||[],t._values.push(e(null,a,n))),t;if(o){var i=o[1],l=+i;isNaN(l)?(t=t||{})[i]=e(t[i],a,n):(t=t||[])[l]=e(t[l],a,n)}else t[r]=e(t[r],a,n);return t}(e,function(e){var t=[],a=new RegExp(r),n=/^([^\[\]]*)/.exec(e);for(n[1]&&t.push(n[1]);null!==(n=a.exec(e));)t.push(n[1]);return t}(t),a)}else{var n=e[t];n?(Array.isArray(n)||(e[t]=[n]),e[t].push(a)):e[t]=a}return e}function i(e,t,a){return a=a.replace(/(\r)?\n/g,"\r\n"),a=(a=encodeURIComponent(a)).replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(t)+"="+a}e.exports=function(e,t){"object"!=typeof t?t={hash:!!t}:void 0===t.hash&&(t.hash=!0);for(var r=t.hash?{}:"",l=t.serializer||(t.hash?o:i),c=e&&e.elements?e.elements:[],m=Object.create(null),s=0;s<c.length;++s){var u=c[s];if((t.disabled||!u.disabled)&&u.name&&n.test(u.nodeName)&&!a.test(u.type)){var d=u.name,p=u.value;if("checkbox"!==u.type&&"radio"!==u.type||u.checked||(p=void 0),t.empty){if("checkbox"!==u.type||u.checked||(p=""),"radio"===u.type&&(m[u.name]||u.checked?u.checked&&(m[u.name]=!0):m[u.name]=!1),null==p&&"radio"==u.type)continue}else if(!p)continue;if("select-multiple"!==u.type)r=l(r,d,p);else{p=[];for(var f=u.options,v=!1,h=0;h<f.length;++h){var b=f[h],g=t.empty&&!b.value,E=b.value||g;b.selected&&E&&(v=!0,r=t.hash&&"[]"!==d.slice(d.length-2)?l(r,d+"[]",b.value):l(r,d,b.value))}!v&&t.empty&&(r=l(r,d,""))}}}if(t.empty)for(var d in m)m[d]||(r=l(r,d,""));return r}},fw7E:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"container",function(){return k}),a.d(t,"option_map",function(){return N}),a.d(t,"getComponent",function(){return T}),a.d(t,"target",function(){return J});var n=a("/nvT"),r=a("mXvD"),o=a("GiK3"),i=(a.n(o),a("pscm")),l=a("/Hyb"),c=(a.n(l),a("43cG")),m=a("O27J"),s=(a.n(m),a("xBYW")),u=a("rpvQ"),d=a("JJEJ"),p=a("mXU4"),f={Provider:n.a},v={_1:r.a},h={createElement:o.createElement},b={raiseError:i.b,internalToOCamlException:i.a},g={captureMessage:l.captureMessage,captureException:l.captureException},E={Admin:c.a},_={render:m.render},y={element:s.c},F={make:u.a},M={IntlProvider:d.d,IntlObjectProvider:d.c},x={geti18n:p.a},k="cc_phmm_support_page";function N(e,t){return t?v._1(e,t[0]):0}function T(e){var t="undefined"==typeof codeneric_phmm_admin_globals?void 0:codeneric_phmm_admin_globals,a=void 0!==t?[v._1(E.Admin[0][1],JSON.parse(t))]:(g.captureMessage("Globals codeneric_phmm_admin_globals not in scope",void 0),0),n="undefined"==typeof codeneric_phmm_supportpage_globals?void 0:codeneric_phmm_supportpage_globals,r=void 0!==n?[v._1(E.Admin[3][0],JSON.parse(n))]:(g.captureMessage("Globals codeneric_phmm_supportpage_globals not in scope",void 0),0);if(a&&r){var o=r[0],i=a[0];return x.geti18n("en_EN").catch(function(){return g.captureMessage("Globals codeneric_phmm_supportpage_globals not in scope",void 0),b.raiseError("Failed getting i18n")}).then(function(t){return Promise.resolve((_.render(y.element(0,0,M.IntlProvider[0]([t.locale],[t.messages],[y.element(0,0,M.IntlObjectProvider[0](function(){return y.element(0,0,f.Provider[0]([h.createElement("div",void 0,y.element(0,0,F.make(o[0],o[1],i.ajax_url,[])))]))},[]))])),e),0))})}if(1===1)return g.captureMessage("Error parsing globals",void 0),b.raiseError("Error parsing globals")}var j=document.getElementById(k);try{null!=j&&T(j)}catch(e){var q=b.internalToOCamlException(e);g.captureException(q,void 0)}var J=null==j?0:[j]},rpvQ:function(e,t,a){"use strict";a.d(t,"a",function(){return F});var n=a("K0fi"),r=a("Oc0E"),o=a("mXvD"),i=a("GiK3"),l=(a.n(i),a("pscm")),c=a("xBYW"),m=a("Uya5"),s=(a.n(m),a("JJEJ")),u=a("9rjo"),d=(a.n(u),{sendFeedback:n.k}),p={__:r.a},f={_1:o.a},v={createElement:i.createElement},h={raiseError:l.b},b={reducerComponent:c.d,element:c.c},g={FormattedHTMLMessage:s.a},E={formField:u.formField},_=b.reducerComponent("Email");function y(e){return 2===e||1===e}function F(e,t,a,n){var r=_.slice();return r[9]=function(n){var r=n[4],o=n[2];return v.createElement("form",{id:"feedback_form",action:a,method:"post",name:"feedback_form",onSubmit:function(e){return e.preventDefault(),f._1(r,0)}},function(e){return 2!==e?e>=3?v.createElement("div",{className:"notice notice-error"},v.createElement("strong",void 0,b.element(0,0,g.FormattedHTMLMessage[0]("admin.support.email.failure","Something went wrong",0,0,[])))):null:v.createElement("div",{className:"notice notice-info"},v.createElement("strong",void 0,b.element(0,0,g.FormattedHTMLMessage[0]("admin.support.email.success","Email sent",0,0,[]))))}(o),v.createElement("h2",void 0,"Photography Management"),b.element(0,0,g.FormattedHTMLMessage[0]("admin.support.visitfaq",'If you encounter a problem, please <a style="color: coral" target="_blank" href="//phmm.codeneric.com">visit the official photography management website</a> for the FAQ first.',0,0,[])),v.createElement("div",{className:E.formField},v.createElement("label",{htmlFor:"payload[name]"},"Name"),v.createElement("input",{defaultValue:t,disabled:y(o),name:"payload[name]",required:!0,type:"text"})),v.createElement("div",{className:E.formField},v.createElement("label",{htmlFor:"payload[email]"},"Email"),v.createElement("input",{defaultValue:e,disabled:y(o),name:"payload[email]",required:!0,type:"email"})),v.createElement("div",{className:E.formField},v.createElement("label",{htmlFor:"payload[subject]"},"Subject"),v.createElement("input",{disabled:y(o),maxLength:900,name:"payload[subject]",required:!0,type:"text"})),v.createElement("div",{className:E.formField},v.createElement("label",{htmlFor:"payload[topic]"},"Topic"),v.createElement("select",{defaultValue:"informative",disabled:y(o),name:"payload[topic]"},v.createElement("option",{value:"informative"},b.element(0,0,g.FormattedHTMLMessage[0]("admin.support.topic.informative","General question",0,0,[]))),v.createElement("option",{value:"technical"},b.element(0,0,g.FormattedHTMLMessage[0]("admin.support.topic.technical","Technical problem",0,0,[]))),v.createElement("option",{value:"subscription"},b.element(0,0,g.FormattedHTMLMessage[0]("admin.support.topic.subscription","Subscription related",0,0,[]))),v.createElement("option",{value:"feature_request"},b.element(0,0,g.FormattedHTMLMessage[0]("admin.support.topic.feature_request","Feature request",0,0,[]))))),v.createElement("div",{className:E.formField},v.createElement("label",{htmlFor:"payload[content]"},"Message"),v.createElement("textarea",{cols:30,disabled:y(o),name:"payload[content]",required:!0,rows:10})),v.createElement("input",{className:"button button-primary",disabled:y(o),name:"publish",type:"submit",value:"Send"}),v.createElement("input",{name:"action",type:"hidden",value:"phmm_send_feedback"}))},r[10]=function(){return 0},r[12]=function(e,t){switch(e){case 0:return p.__(3,[1,function(e){var t=document.querySelector("#feedback_form"),n=null==t?h.raiseError("fail"):m(t,{hash:!0});return d.sendFeedback(n.payload,a).then(function(t){var a=t[1][1],n=a&&0!==a[0]?1:2;return f._1(e[4],n),Promise.resolve(0)}),0}]);case 1:return p.__(0,[2]);case 2:return p.__(0,[3])}},r}}},[8]);
//# sourceMappingURL=~/phmm.admin.supportpage.js.map