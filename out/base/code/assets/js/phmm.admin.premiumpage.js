webpackJsonp([18],{6:function(e,t,r){r("FTkx"),r("VRe+"),r("lmbK"),r("B0FF"),e.exports=r("CasT")},CasT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"container",function(){return T}),r.d(t,"option_map",function(){return k}),r.d(t,"responeStatusToPremiumStatus",function(){return J}),r.d(t,"getComponent",function(){return D}),r.d(t,"target",function(){return O});var n=r("/nvT"),a=r("mXvD"),i=r("RXvH"),s=r("GiK3"),m=(r.n(s),r("pscm")),o=r("/dQD"),l=r("43cG"),u=r("O27J"),c=(r.n(u),r("VtXn")),d=r("xBYW"),p=r("JJEJ"),g=r("mXU4"),v={Provider:n.a},f={_1:a.a,_3:a.c},h={make:i.b},_={createElement:s.createElement},E={raiseError:m.b,internalToOCamlException:m.a},b={captureMessage:o.b,captureException:o.a,unsafeToJsExn:o.d},M={Admin:l.a},y={render:u.render},P={Render:c.a},F={element:d.c},x={IntlProvider:p.d,IntlObjectProvider:p.c},w={geti18n:g.a},T="cc_phmm_premium_page";function k(e,t){return t?f._1(e,t[0]):0}function J(e){return 200!==e?402!==e?2:0:1}function D(e){var t="undefined"==typeof codeneric_phmm_premiumpage_globals?void 0:codeneric_phmm_premiumpage_globals,r=void 0!==t?[f._1(M.Admin[2][0],JSON.parse(t))]:(f._3(b.captureMessage,"Globals codeneric_phmm_premiumpage_globals not in scope",0,0),0),n="undefined"==typeof codeneric_phmm_admin_globals?void 0:codeneric_phmm_admin_globals,a=void 0!==n?[f._1(M.Admin[0][1],JSON.parse(n))]:(f._3(b.captureMessage,"Globals codeneric_phmm_admin_globals not in scope",0,0),0);if(r&&a){var i=a[0],s=r[0];return Promise.resolve(w.geti18n("en_EN").catch(function(){return f._3(b.captureMessage,"Failed getting i18n",0,0),E.raiseError("Failed getting i18n")}).then(function(t){return fetch(i.wpps_url+"/paid?plugin_id="+s[0]).then(function(e){return Promise.resolve(J(e.status))}).catch(function(){return f._3(b.captureMessage,"Server issues fetching premium status",0,0),Promise.resolve(2)}).then(function(r){return Promise.resolve((y.render(F.element(0,0,x.IntlProvider[0]([t.locale],[t.messages],[F.element(0,0,x.IntlObjectProvider[0](function(e){var t;switch(r){case 0:t=F.element(0,0,h.make(function(e){return P.Render[3](e,i.ajax_url)},e,[]));break;case 1:t=P.Render[4](i.links.support,i.wpps_url,i.ajax_url,s[0],s[1],0);break;case 2:t=P.Render[2](0)}return F.element(0,0,v.Provider[0]([_.createElement("div",void 0,t,P.Render[0](s[0]))]))},[]))])),e),0))})}))}if(1===1)return f._3(b.captureMessage,"error parsing globals",0,0),E.raiseError("Error parsing globals")}var I=document.getElementById(T);try{null!=I&&D(I)}catch(e){var N=E.internalToOCamlException(e);f._3(b.captureException,b.unsafeToJsExn(N),0,0)}var O=null==I?0:[I]},VtXn:function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r("K0fi"),a=r("mXvD"),i=r("GiK3"),s=(r.n(i),r("xBYW")),m=r("JJEJ"),o=r("9rjo"),l=(r.n(o),{updatePremium:n.l}),u={_1:a.a},c={createElement:i.createElement},d={element:s.c},p={FormattedMessage:m.b,FormattedHTMLMessage:m.a},g={formField:o.formField};function v(e){return c.createElement("div",{id:"phmm-premiumpage-info"},c.createElement("div",{className:g.formField},c.createElement("label",void 0,d.element(0,0,p.FormattedMessage[0](0,"premium.extension","Premium extension",["Descriptor for the premium extension"],0,[]))),c.createElement("p",void 0,0!==e?d.element(0,0,p.FormattedMessage[0](0,"generic.installed","Installed",["Used to display if premium is installed"],0,[])):c.createElement("strong",{style:{color:"#e74c3c"}},d.element(0,0,p.FormattedMessage[0](0,"generic.not_installed","Not installed",["Used to display if premium is installed"],0,[]))))))}var f=[function(e){return c.createElement("div",{className:g.formField,id:"phmm-premiumpage-plugin-id"},c.createElement("label",void 0,"Plugin ID"),c.createElement("p",void 0,e))},v,function(){return c.createElement("div",{id:"phmm-premiumpage-server-issue"},c.createElement("h3",void 0,c.createElement("span",{className:"dashicons dashicons-dismiss"}),d.element(0,0,p.FormattedMessage[0](0,"server.down","The PHMM servers seem to be down at the moment. Please try again later.",["Try again later message if server issues"],0,[]))))},function(e,t){return l.updatePremium(0,t),c.createElement("div",{id:"phmm-premiumpage-base-user"},c.createElement("h3",void 0,d.element(0,0,p.FormattedMessage[0](0,"user.base.status","You are currently not a premium user.",["Tell user that he is not premium"],0,[]))),c.createElement("p",void 0,d.element(0,0,p.FormattedMessage[0](0,"user.base.upgrade.text","However, you can simply become one by ",["Give user option to upgrade"],0,[])),c.createElement("a",{id:"phmm-premiumpage-base-user-link",href:"#",onClick:function(t){return t.preventDefault(),u._1(e,0)}},d.element(0,0,p.FormattedMessage[0](0,"user.base.upgrade.link_text","purchasing the Photography Management Premium license!",["Context: However, you can simply become one by..."],0,[])))))},function(e,t,r,n,a,i){var s;if(l.updatePremium(1,r),0!==a)s=c.createElement("h3",{id:"phmm-premiumpage-premium-user"},c.createElement("span",{className:"dashicons dashicons-yes"}),d.element(0,0,p.FormattedMessage[0](0,"user.premium.congratulations","You are a Premium Photography Management User!",0,0,[])));else{var m=t+"/premium/phmm?plugin_id="+n;s=c.createElement("h3",{id:"phmm-premiumpage-premium-user-plugin-not-installed"},c.createElement("span",{className:"dashicons dashicons-warning"}),c.createElement("a",{href:m,target:"_blank"},d.element(0,0,p.FormattedMessage[0](0,"user.premium.congratulations","Please Download and install the premium extension to activate the premium features!",0,0,[]))))}var o=c.createElement("div",void 0,d.element(0,0,p.FormattedHTMLMessage[0]("admin.premium.licencetransfer","Want to transfer your licence to another website? <br/> <a href={link}>Just send us an email </a> with your current plugin ID (this website) and your target plugin ID (the website you want to transfer the licence to.",0,[{link:e}],[])));return c.createElement("div",void 0,s,v(a),o)}]}},[6]);
//# sourceMappingURL=~/phmm.admin.premiumpage.js.map